{"version":3,"sources":["services/person.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","console","log","DisplayPersons","props","persons","map","person","name","number","deletePerson","DisplayPerson","onClick","NewPersonForm","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Notification","message","style","color","fontStyle","fontSize","borderSyle","borderRadius","padding","background","marginBottom","App","useState","setPersons","setNewName","setNewNumber","setMessage","useEffect","personService","initialPersons","event","preventDefault","includes","window","alert","personObject","length","returnedPerson","concat","catch","error","msg","setTimeout","target","find","p","confirm","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6LACMA,EAAS,eAkBA,EAhBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAc9B,EAXA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAS9B,EAPM,SAACG,GACFP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IACnCL,MAAK,SAAAC,GACTM,QAAQC,IAAIP,EAASC,UCmEvBO,EAAiB,SAACC,GACtB,OACE,6BACGA,EAAMC,QAAQC,KAAI,SAAAC,GAAM,OACvB,cAAC,EAAD,CAAeR,GAAIQ,EAAOR,GAAoBS,KAAMD,EAAOC,KAAMC,OAAQF,EAAOE,OAAQC,aAAcN,EAAMM,cAAzEH,EAAOR,UAK5CY,EAAgB,SAACP,GACrB,OACE,8BAAIA,EAAMI,KAAV,IAAiBJ,EAAMK,OAAvB,IAA+B,wBAAQG,QAAS,kBAAMR,EAAMM,aAAaN,EAAML,KAAhD,+BAG7Bc,EAAgB,SAACT,GACrB,OACE,8BACA,uBAAMU,SAAUV,EAAMW,UAAtB,UACI,yCACQ,uBAAOC,MAAOZ,EAAMa,QAASC,SAAUd,EAAMe,sBAErD,2CACU,uBAAOH,MAAOZ,EAAMgB,UAAWF,SAAUd,EAAMiB,wBAEzD,8BACE,wBAAQC,KAAK,SAAb,yBAMJC,EAAe,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAWtB,OAAgB,OAAZA,EACK,KAGP,8BACE,mBAAGC,MAfmB,CACxBC,MAAO,QACPC,UAAW,OACXC,SAAU,GACVC,WAAY,QACZC,aAAc,EACdC,QAAS,GACTC,WAAY,YACZC,aAAc,IAOZ,SAA8BT,OAIrBU,EAjIH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACR9B,EADQ,KACC+B,EADD,OAEgBD,mBAAS,IAFzB,mBAERlB,EAFQ,KAECoB,EAFD,OAGkBF,mBAAS,IAH3B,mBAGTf,EAHS,KAGEkB,EAHF,OAIcH,mBAAS,MAJvB,mBAITX,EAJS,KAIAe,EAJA,KAMhBC,qBAAU,WACRC,IAEG/C,MAAK,SAAAgD,GACJN,EAAWM,QAEd,IAuDH,OACE,gCACE,cAAC,EAAD,CAAclB,QAASA,IACvB,2CACA,cAAC,EAAD,CAAeT,UAzDD,SAAC4B,GAGjB,GAFAA,EAAMC,iBACMvC,EAAQC,KAAI,SAAAC,GAAM,OAAIA,EAAOC,QAC9BqC,SAAS5B,GA0BlB6B,OAAOC,MAAP,UAAgB9B,EAAhB,uCA1B4B,CAC5B,IAAM+B,EAAe,CACnBxC,KAAMS,EACNR,OAAQW,EACRrB,GAAIM,EAAQ4C,OAAS,GAEvBR,EACUO,GACPtD,MAAK,SAAAwD,GACJd,EAAW/B,EAAQ8C,OAAOD,IAC1Bb,EAAW,IACXC,EAAa,OAEdc,OAAM,SAAAC,GACLpD,QAAQC,IAAImD,EAAM1D,SAASC,MAC3B,IAAM0D,EAAMD,EAAM1D,SAASC,KAAKyD,MAChCd,EAAWe,GACXC,YAAW,WACThB,EAAW,QACV,QAEPA,EAAW,GAAD,OAAIS,EAAaxC,KAAjB,wBACV+C,YAAW,WACThB,EAAW,QACV,OA8BkCtB,QAASA,EAASG,UAAWA,EAAWD,iBAVxD,SAACwB,GACxBN,EAAWM,EAAMa,OAAOxC,QAS2FK,mBAP1F,SAACsB,GAC1BL,EAAaK,EAAMa,OAAOxC,UAOxB,yCACA,cAAC,EAAD,CAAgBX,QAASA,EAASK,aA1BjB,SAACX,GACpB,IAAMS,EAAOH,EAAQoD,MAAK,SAAAC,GAAC,OAAIA,EAAE3D,KAAOA,KAAIS,KACxCsC,OAAOa,QAAP,iBAAyBnD,EAAzB,SACFiC,EACgB1C,GAEhBqC,EAAW/B,EAAQuD,QAAO,SAAAF,GAAC,OAAIA,EAAE3D,KAAOA,MACxCwC,EAAW,+BACXgB,YAAW,WACThB,EAAW,QACV,aCvDTsB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.7ab8f1ed.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl= '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    request.then(response => {\n        console.log(response.data)\n    })\n}\n\nexport default { getAll, create, deletePerson }","\nimport React, { useState, useEffect } from 'react'\nimport personService from './services/person'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let names = persons.map(person => person.name)\n    if (!names.includes(newName)) {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName(\"\")\n          setNewNumber(\"\")\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          const msg = error.response.data.error\n          setMessage(msg)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n      setMessage(`${personObject.name} succesfully added!`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)  \n    } else {\n      window.alert(`${newName} is already added to phonebook`)\n    }\n    \n  }\n  const deletePerson = (id) => {\n    const name = persons.find(p => p.id === id).name\n    if (window.confirm(`Delete ${name} ?`)) {\n      personService\n        .deletePerson(id)\n\n      setPersons(persons.filter(p => p.id !== id))\n      setMessage(`Number succesfully deleted!`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }\n\n  } \n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  return (\n    <div>\n      <Notification message={message}/>\n      <h2>Phonebook</h2>\n      <NewPersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <DisplayPersons persons={persons} deletePerson={deletePerson}/>\n    </div>\n  )\n\n}\nconst DisplayPersons = (props) => {\n  return (\n    <ul>\n      {props.persons.map(person => \n        <DisplayPerson id={person.id} key={person.id} name={person.name} number={person.number} deletePerson={props.deletePerson}/>\n      )}\n    </ul>\n  )\n}\nconst DisplayPerson = (props) => {\n  return (\n    <p>{props.name} {props.number} <button onClick={() => props.deletePerson(props.id)}>Delete number</button></p>\n  )\n}\nconst NewPersonForm = (props) => {\n  return (\n    <div>\n    <form onSubmit={props.addPerson}>\n        <div>\n          name: <input value={props.newName} onChange={props.handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  </div>\n  )\n}\nconst Notification = ({ message }) => {\n  const notificationStyle = {\n    color: 'green',\n    fontStyle: 'bold',\n    fontSize: 16,\n    borderSyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    background: 'lightgrey',\n    marginBottom: 10\n  }\n  if (message === null) {\n    return null\n  }\n  return (\n    <div>\n      <p style={notificationStyle}>{message}</p>\n    </div>\n  )\n}\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}